{
	"name": "Kilo Code Development",
	"dockerFile": "Dockerfile",
	"context": "..",

	"features": {
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/devcontainers/features/github-cli:1": {}
	},

	"customizations": {
		"vscode": {
			"extensions": [
				"dbaeumer.vscode-eslint",
				"esbenp.prettier-vscode",
				"csstools.postcss",
				"bradlc.vscode-tailwindcss",
				"connor4312.esbuild-problem-matchers",
				"yoavbls.pretty-ts-errors",
				"ms-vscode.vscode-typescript-next",
				"involvex.vscode-npm-package-manager",
				"involvex.statusbar-quick-actions"
			],
			"settings": {
				"terminal.integrated.defaultProfile.linux": "bash",
				"typescript.preferences.includePackageJsonAutoImports": "auto",
				"eslint.workingDirectories": ["src", "webview-ui", "cli"],
				"prettier.requireConfig": true,
				"editor.formatOnSave": true,
				"npmPackageManager.defaultPackageManager": "pnpm",
				"npmPackageManager.debug": true,
				"editor.codeActionsOnSave": {
					"source.fixAll.eslint": "explicit"
				},
				"statusbarQuickActions.buttons": [
					{
						"id": "build",
						"text": "\uD83D\uDD28 Build",
						"tooltip": "Run build command",
						"command": {
							"type": "pnpm",
							"command": "run",
							"script": "build"
						},
						"enabled": true,
						"alignment": "left",
						"priority": 100
					},
					{
						"id": "buildcli",
						"text": "\uD83D\uDD28 Build Cli",
						"tooltip": "Run build command",
						"command": {
							"type": "pnpm",
							"command": "run",
							"script": "cli:build"
						},
						"enabled": true,
						"alignment": "left",
						"priority": 100
					},
					{
						"id": "check",
						"text": "‚ö†Ô∏è Check-types",
						"tooltip": "Run check-types command",
						"command": {
							"type": "pnpm",
							"command": "run",
							"script": "check-types"
						},
						"enabled": true,
						"alignment": "left",
						"priority": 100
					},
					{
						"id": "Devcli",
						"text": "‚òÅÔ∏è Cli Dev",
						"tooltip": "Run cli:dev command",
						"command": {
							"type": "pnpm",
							"command": "run",
							"script": "cli:dev"
						},
						"enabled": true,
						"alignment": "left",
						"priority": 100
					}
				],
				"statusbarQuickActions.settings.icons": {
					"library": "material"
				},
				"statusbarQuickActions.settings.performance": {
					"visibilityDebounceMs": 0,
					"enableVirtualization": false,
					"cacheResults": false
				}
			}
		}
	},

	"forwardPorts": [3030, 5173, 8000],
	"appPort": 3030,
	"portsAttributes": {
		"3030": {
			"label": "Dev Server",
			"onAutoForward": "notify"
		},
		"5173": {
			"label": "Vite Dev Server",
			"onAutoForward": "notify"
		},
		"8000": {
			"label": "Other Services",
			"onAutoForward": "silent"
		}
	},

	"postCreateCommand": "bash .devcontainer/setup.sh",
	"postStartCommand": "echo 'üöÄ Kilo Code devcontainer is ready!'",

	"remoteUser": "root",
	"containerUser": "root",

	"mounts": ["source=${localWorkspaceFolder}/.git,target=/workspace/.git,type=bind,consistency=persistent"]
}
